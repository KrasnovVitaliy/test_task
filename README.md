# Тестовое задание Backend
Разработать асинхронный сервер, отправляющий в вебсокет текущие значения валютных пар.

<h2>Зависимости</h2>
* Python 3.7 или выше
*websockets
*demjson

<h2>Настройка сервиса</h2>
Конфигурация сервиса осуществляется путем изменения конфигурационного файла:<b>config.py</b> <br>

<h2>Подготовка для запуска</h2>
Для работы сервиса необходимо выполнить следующие шаги:<br>
* Установить зависимости указанные в <i>requirements.txt</i><br> 
* Подготовить базу данных<br>
Для упэтого запустить скрипт из корневого каталога проекта:<br>
<code>./prepare.sh</code> <br>
После того как скрипт отработает будут установлены все зависимости и созданы база данных с именем 
указанном в 
конфигурационном файле <b>config.py</b> и записи активов.

<h2>Запуск сервиса</h2>
Для запуска сервиса выполнить комманду из корневого каталога:<br>
<code>python main.py</code> <br>
убедитесь, что запускаете сервис версией Python >= 3.7.

<h2>Комментарии</h2>
* База SQLite выбрана просто для примера, так как ее не надо настраивать для запуска. В продакшн решение
лучше использовать Postgres изменив URI базы данных в файле конфигурации
* Данный скрипт - одна из самых простых реализаций решения задачи. Данное решение трудно масштабируемо
и слабо отказоустойчиво. При падение сервиса клиенты теряют доступ к данным и перестают
собираться котировки.<br>
Для более надежного решения лучше разбить скрипт на микросервисы и связать их через очередь, например
RabbitMQ. Более подробно могу рассказать на техническом интервью.
* DEELTE_OLD_RECORDS - корутина удаляющая старые записи, что бы таблица не увеличиваласть черезмерно